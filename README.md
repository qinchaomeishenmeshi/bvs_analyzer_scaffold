# BVS Analyzer - è§†é¢‘ç»“æ„åˆ†æå·¥å…·

ä¸€ä¸ªå¼ºå¤§çš„è§†é¢‘å†…å®¹åˆ†æå·¥å…·ï¼Œä¸“é—¨ç”¨äºåˆ†æè§†é¢‘çš„ç»“æ„ã€æå–æ–‡æœ¬å†…å®¹å¹¶ç”Ÿæˆè¯¦ç»†çš„åˆ†ææŠ¥å‘Šã€‚

## ğŸš€ åŠŸèƒ½ç‰¹æ€§

- **è§†é¢‘ä¸‹è½½**: æ”¯æŒå¤šå¹³å°è§†é¢‘ä¸‹è½½ï¼ˆYouTubeã€Bç«™ç­‰ï¼‰
- **éŸ³é¢‘è½¬å†™**: ä½¿ç”¨ OpenAI Whisper è¿›è¡Œé«˜ç²¾åº¦è¯­éŸ³è½¬æ–‡å­—
- **ç»“æ„åˆ†æ**: åˆ†æè§†é¢‘å¼€å¤´é’©å­ã€å†…å®¹èŠ‚å¥ã€è¯­é€Ÿç­‰å…³é”®æŒ‡æ ‡
- **æŠ¥å‘Šç”Ÿæˆ**: ç”Ÿæˆ Markdown å’Œ JSON æ ¼å¼çš„è¯¦ç»†åˆ†ææŠ¥å‘Š
- **æ‰¹é‡å¤„ç†**: æ”¯æŒæ‰¹é‡åˆ†æå¤šä¸ªè§†é¢‘
- **è¿›åº¦æ˜¾ç¤º**: ç¾è§‚çš„è¿›åº¦æ¡å’ŒçŠ¶æ€æ˜¾ç¤º

## ğŸ“¦ å®‰è£…ä¾èµ–

```bash
# å®‰è£… Python ä¾èµ–
pip install -r requirements.txt

# å®‰è£… FFmpegï¼ˆå¿…éœ€ï¼‰
# macOS
brew install ffmpeg

# Ubuntu/Debian
sudo apt update
sudo apt install ffmpeg

# Windows
# ä¸‹è½½ FFmpeg å¹¶æ·»åŠ åˆ° PATH
```

## ğŸ¯ å¿«é€Ÿå¼€å§‹

### åˆ†æå•ä¸ªè§†é¢‘

```bash
# å®Œæ•´åˆ†æï¼ˆä¸‹è½½è§†é¢‘ + è½¬å†™ + æŠ¥å‘Šï¼‰
python main.py -u "https://www.youtube.com/watch?v=VIDEO_ID"

# ä»…è½¬å†™åˆ†æï¼Œä¸ä¸‹è½½è§†é¢‘
python main.py -u "https://www.youtube.com/watch?v=VIDEO_ID" --no-download

# æŒ‡å®šè¾“å‡ºç›®å½•
python main.py -u "https://www.youtube.com/watch?v=VIDEO_ID" -o my_analysis
```

### æ‰¹é‡åˆ†æè§†é¢‘

```bash
# ä»æ–‡ä»¶è¯»å–URLåˆ—è¡¨
python main.py -f video_urls.txt

# ç›´æ¥æŒ‡å®šå¤šä¸ªURL
python main.py -u "URL1" "URL2" "URL3"
```

### åˆ›å»ºURLæ–‡ä»¶

åˆ›å»ºä¸€ä¸ª `video_urls.txt` æ–‡ä»¶ï¼Œæ¯è¡Œä¸€ä¸ªè§†é¢‘URLï¼š

```
https://www.youtube.com/watch?v=VIDEO_ID1
https://www.youtube.com/watch?v=VIDEO_ID2
https://www.bilibili.com/video/BV1234567890
```

## ğŸ“ é¡¹ç›®ç»“æ„

```
bvs_analyzer_scaffold/
â”œâ”€â”€ main.py                 # ä¸»ç¨‹åºå…¥å£
â”œâ”€â”€ requirements.txt        # ä¾èµ–åŒ…åˆ—è¡¨
â”œâ”€â”€ README.md              # é¡¹ç›®è¯´æ˜
â”œâ”€â”€ crawler/               # è§†é¢‘çˆ¬å–æ¨¡å—
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ video_downloader.py    # è§†é¢‘ä¸‹è½½å™¨
â”‚   â””â”€â”€ douyin_downloader.py   # æŠ–éŸ³ä¸‹è½½å™¨
â”œâ”€â”€ parser/                # å†…å®¹è§£ææ¨¡å—
â”‚   â”œâ”€â”€ __init__.py
â”‚   â””â”€â”€ audio_parser.py        # éŸ³é¢‘è½¬å†™å™¨
â”œâ”€â”€ report/                # æŠ¥å‘Šç”Ÿæˆæ¨¡å—
â”‚   â”œâ”€â”€ __init__.py
â”‚   â””â”€â”€ report_generator.py    # æŠ¥å‘Šç”Ÿæˆå™¨
â”œâ”€â”€ docs/                  # æ–‡æ¡£ç›®å½•
â”‚   â”œâ”€â”€ PRD.md                # äº§å“éœ€æ±‚æ–‡æ¡£
â”‚   â””â”€â”€ task.md               # ä»»åŠ¡è§„åˆ’æ–‡æ¡£
â””â”€â”€ output/                # è¾“å‡ºç›®å½•ï¼ˆè‡ªåŠ¨åˆ›å»ºï¼‰
    â”œâ”€â”€ videos/               # ä¸‹è½½çš„è§†é¢‘æ–‡ä»¶
    â”œâ”€â”€ audio/                # æå–çš„éŸ³é¢‘æ–‡ä»¶
    â”œâ”€â”€ transcripts/          # è½¬å†™æ–‡æœ¬æ–‡ä»¶
    â””â”€â”€ reports/              # åˆ†ææŠ¥å‘Š
```

## ğŸ“Š è¾“å‡ºæ–‡ä»¶è¯´æ˜

### è½¬å†™æ–‡ä»¶
- `{video_id}_transcript.json`: å®Œæ•´çš„è½¬å†™æ•°æ®ï¼ˆåŒ…å«æ—¶é—´æˆ³ï¼‰
- `{video_id}_transcript.srt`: SRTå­—å¹•æ–‡ä»¶

### åˆ†ææŠ¥å‘Š
- `{video_id}_report.md`: Markdownæ ¼å¼çš„å¯è¯»æ€§æŠ¥å‘Š
- `{video_id}_data.json`: ç»“æ„åŒ–çš„åˆ†ææ•°æ®

### æŠ¥å‘Šå†…å®¹åŒ…æ‹¬
- ğŸ“¹ **åŸºæœ¬ä¿¡æ¯**: æ ‡é¢˜ã€ä½œè€…ã€æ—¶é•¿ã€è§‚çœ‹æ•°ç­‰
- ğŸ¯ **å¼€å¤´é’©å­åˆ†æ**: å‰3ç§’å†…å®¹çš„é’©å­ç±»å‹å’Œæ•ˆæœ
- ğŸ“ **å®Œæ•´è½¬å†™æ–‡æœ¬**: è§†é¢‘çš„å®Œæ•´æ–‡å­—å†…å®¹
- â±ï¸ **åˆ†æ®µå­—å¹•**: å¸¦æ—¶é—´æˆ³çš„åˆ†æ®µå†…å®¹
- ğŸ“Š **ç»“æ„åˆ†æ**: è¯­é€Ÿã€èŠ‚å¥ã€å†…å®¹å¯†åº¦ç­‰æŒ‡æ ‡

## ğŸ› ï¸ é«˜çº§ç”¨æ³•

### ä½¿ç”¨ Python API

```python
from main import BVSAnalyzer

# åˆ›å»ºåˆ†æå™¨
analyzer = BVSAnalyzer(output_dir="my_output")

# åˆ†æå•ä¸ªè§†é¢‘
result = analyzer.analyze_single_video(
    url="https://www.youtube.com/watch?v=VIDEO_ID",
    download_video=True,
    generate_report=True
)

# æ£€æŸ¥ç»“æœ
if result['success']:
    print(f"åˆ†æå®Œæˆï¼æŠ¥å‘Šè·¯å¾„: {result['report_paths']}")
else:
    print(f"åˆ†æå¤±è´¥: {result['error']}")
```

### è‡ªå®šä¹‰é…ç½®

```python
# é…ç½®è§†é¢‘ä¸‹è½½å™¨
analyzer.downloader.configure_options(
    output_path="custom_videos",
    format_selector="best[height<=480]",  # ä¸‹è½½480pè§†é¢‘
    save_metadata=True
)

# é…ç½®éŸ³é¢‘è§£æå™¨
analyzer.parser.configure(
    audio_output_dir="custom_audio",
    transcript_output_dir="custom_transcripts",
    model_size="medium"  # ä½¿ç”¨ä¸­ç­‰å¤§å°çš„Whisperæ¨¡å‹
)
```

## ğŸ”§ å‘½ä»¤è¡Œå‚æ•°

| å‚æ•° | è¯´æ˜ | ç¤ºä¾‹ |
|------|------|------|
| `-u, --urls` | è§†é¢‘URLï¼ˆå¯å¤šä¸ªï¼‰ | `-u "URL1" "URL2"` |
| `-f, --file` | URLæ–‡ä»¶è·¯å¾„ | `-f urls.txt` |
| `-o, --output` | è¾“å‡ºç›®å½• | `-o my_output` |
| `--no-download` | ä¸ä¸‹è½½è§†é¢‘æ–‡ä»¶ | `--no-download` |
| `--no-report` | ä¸ç”Ÿæˆåˆ†ææŠ¥å‘Š | `--no-report` |

## ğŸ¨ è¾“å‡ºç¤ºä¾‹

### æ§åˆ¶å°è¾“å‡º
```
ğŸ¬ å¼€å§‹åˆ†æè§†é¢‘: https://www.youtube.com/watch?v=example
âœ… è§†é¢‘ä¿¡æ¯è·å–å®Œæˆ
ğŸµ æ­£åœ¨ä¸‹è½½è§†é¢‘...
âœ… è§†é¢‘ä¸‹è½½å®Œæˆ: example_video.mp4
ğŸ¤ æ­£åœ¨æå–éŸ³é¢‘...
âœ… éŸ³é¢‘æå–å®Œæˆ: example_audio.wav
ğŸ”¤ æ­£åœ¨è½¬å†™éŸ³é¢‘...
âœ… éŸ³é¢‘è½¬å†™å®Œæˆ
ğŸ“Š æ­£åœ¨ç”ŸæˆæŠ¥å‘Š...
âœ… MarkdownæŠ¥å‘Šå·²ç”Ÿæˆ: example_report.md
âœ… JSONæŠ¥å‘Šå·²ç”Ÿæˆ: example_data.json
ğŸ‰ è§†é¢‘åˆ†æå®Œæˆï¼
```

### Markdown æŠ¥å‘Šç¤ºä¾‹
```markdown
# è§†é¢‘åˆ†ææŠ¥å‘Š

## ğŸ“¹ åŸºæœ¬ä¿¡æ¯

| é¡¹ç›® | å†…å®¹ |
|------|------|
| **æ ‡é¢˜** | å¦‚ä½•åˆ¶ä½œå¸å¼•äººçš„è§†é¢‘å¼€å¤´ |
| **ä½œè€…** | åˆ›ä½œè€…åç§° |
| **æ—¶é•¿** | 5åˆ†30ç§’ |
| **è§‚çœ‹æ•°** | 12.5ä¸‡ |

## ğŸ¯ å¼€å¤´é’©å­åˆ†æï¼ˆå‰3ç§’ï¼‰

**é’©å­ç±»å‹**: ç–‘é—®å¼é’©å­
**é’©å­å†…å®¹**: ä½ çŸ¥é“ä»€ä¹ˆæ ·çš„å¼€å¤´èƒ½è®©è§‚ä¼—çœ‹å®Œæ•´ä¸ªè§†é¢‘å—ï¼Ÿ
**æ—¶é•¿**: 2.8ç§’

## ğŸ“Š å†…å®¹ç»“æ„åˆ†æ

- **æ€»æ—¶é•¿**: 5åˆ†30ç§’
- **æ€»å­—æ•°**: 1,245 å­—
- **å¹³å‡è¯­é€Ÿ**: 226.4 å­—/åˆ†é’Ÿ
- **èŠ‚å¥ç‰¹ç‚¹**: èŠ‚å¥å¤šå˜
```

## ğŸš¨ æ³¨æ„äº‹é¡¹

1. **ç½‘ç»œè¦æ±‚**: éœ€è¦ç¨³å®šçš„ç½‘ç»œè¿æ¥ä¸‹è½½è§†é¢‘å’Œæ¨¡å‹
2. **å­˜å‚¨ç©ºé—´**: ç¡®ä¿æœ‰è¶³å¤Ÿçš„ç£ç›˜ç©ºé—´å­˜å‚¨è§†é¢‘å’ŒéŸ³é¢‘æ–‡ä»¶
3. **å¤„ç†æ—¶é—´**: è½¬å†™æ—¶é—´å–å†³äºè§†é¢‘é•¿åº¦å’Œç¡¬ä»¶æ€§èƒ½
4. **ç‰ˆæƒåˆè§„**: è¯·ç¡®ä¿åˆ†æçš„è§†é¢‘å†…å®¹ç¬¦åˆç›¸å…³æ³•å¾‹æ³•è§„

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Request æ¥æ”¹è¿›è¿™ä¸ªé¡¹ç›®ï¼

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ã€‚